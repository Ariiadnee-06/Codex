@using System.Globalization


@model codex.ViewModels.AdminViewModel


@{
    Layout = null;
}




<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="icon" href="@Url.Content("~/Imagenes/Codex-Logo.png")">
    <link rel="stylesheet" href="@Url.Content("~/css/style.css")">
    <link rel="stylesheet" href="@Url.Content("~/css/admin.css")">
    <title>Codex | Panel de Administración</title>
</head>
<body>
    <!--HEADER-->
    <header class="header" id="header">
        <nav class="nav_container">
            <a href="@Url.Content("~/index")" class="nav_logo">Codex</a>
            <div class="nav_menu" id="nav_menu">
                <div class="nav_close" id="nav_close">
                    <img src="@Url.Content("~/Imagenes/circulo-marca-x (1).png")" alt="Cerrar">
                </div>

                <ul class="nav_list">
                    <li>
                        <a href="@Url.Content("~/index")" class="nav_link">
                            <img src="@Url.Content("~/Imagenes/home.png")" alt="Inicio" class="nav_icon">
                            <span class="nav_text">Inicio</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav_link active">
                            <img src="@Url.Content("~/Imagenes/dashboard.png")" alt="Panel" class="nav_icon">
                            <span class="nav_text">Panel Admin</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav_link">
                            <img src="@Url.Content("~/Imagenes/usuario-extranjero (1).png")" alt="Usuario" class="nav_icon">
                            <span class="nav_text">Mi Cuenta</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="nav_toggle" id="nav_toggle">
                <img src="@Url.Content("~/Imagenes/menu (2).png")" alt="Menú">
            </div>
        </nav>
    </header>

    <!--CONTENIDO-->
    <main class="admin-main">
        <section class="admin-container">
            <div class="admin-header">
                <h2>Gestión de Computadores</h2>
                <button class="admin-button" onclick="abrirModal()">Agregar Computadora</button>
            </div>

            <div id="AgregarModal" class="modal hidden">
                <div class="modal_content">
                    <span class="close" onclick="cerrarModal()">&times;</span>
                    <div class="modal_body">
                        <div class="form_side">
                            <h2>Agregar Nueva Computadora</h2>
                            <form method="post" asp-action="Create" asp-controller="Admin">

                                <label>Marca</label>
                                <select name="ComputadoraActual.Marca" required>
                                    <option value="HP">HP</option>
                                    <option value="Lenovo">Lenovo</option>
                                    <option value="Asus">Asus</option>
                                    <option value="Acer">Acer</option>
                                    <option value="Dell">Dell</option>
                                </select>

                                <label>Modelo</label>
                                <input name="ComputadoraActual.Modelo" required />

                                <label>Tipo de Dispositivo</label>
                                <select name="ComputadoraActual.TipoDispositivo">
                                    <option value="1">Portátil</option>
                                    <option value="2">Escritorio</option>
                                    <option value="3">All In One</option>
                                    <option value="4">Mini PC</option>
                                    <option value="5">Workstation</option>
                                    <option value="6">Convertible 2 en 1</option>
                                </select>

                                <label>Procesador</label>
                                <select name="ComputadoraActual.Procesador">
                                    <option value="Intel Core i3">Intel Core i3</option>
                                    <option value="Intel Core i5">Intel Core i5</option>
                                    <option value="Intel Core i7">Intel Core i7</option>
                                    <option value="Ryzen 3">Ryzen 3</option>
                                    <option value="Ryzen 5">Ryzen 5</option>
                                    <option value="Ryzen 7">Ryzen 7</option>
                                </select>

                                <label>RAM</label>
                                <select name="ComputadoraActual.MemoriaRam">
                                    <option value="4GB">4GB</option>
                                    <option value="8GB">8GB</option>
                                    <option value="16GB">16GB</option>
                                    <option value="32GB">32GB</option>
                                </select>

                                <label>Almacenamiento Principal</label>
                                <select name="ComputadoraActual.AlmacenamientoPrincipal">
                                    <option value="256GB SSD">256GB SSD</option>
                                    <option value="512GB SSD">512GB SSD</option>
                                    <option value="1TB HDD">1TB HDD</option>
                                    <option value="1TB SSD">1TB SSD</option>
                                </select>

                                <label>Tarjeta Gráfica</label>
                                <select name="ComputadoraActual.TarjetaGrafica">
                                    <option value="Integrada">Integrada</option>
                                    <option value="GTX 1650">GTX 1650</option>
                                    <option value="RTX 3050">RTX 3050</option>
                                    <option value="RX 580">RX 580</option>
                                </select>

                                <label>GPU Integrada</label>
                                <select name="ComputadoraActual.TieneGPUIntegrada">
                                    <option value="true">Sí</option>
                                    <option value="false">No</option>
                                </select>

                                <label>Precio</label>
                                <input name="ComputadoraActual.Precio" type="number" min="100000" step="10000" required />

                                <label>Tipo de Uso</label>
                                <select name="ComputadoraActual.TipoRecomendado">
                                    <option value="1">Básico</option>
                                    <option value="2">Estudiante</option>
                                    <option value="3">Programador</option>
                                    <option value="4">Diseñador</option>
                                    <option value="5">Editor de Video</option>
                                    <option value="6">Técnico Avanzado</option>
                                    <option value="7">Gamer</option>
                                </select>

                                <div class="button">
                                    <button type="submit">Guardar</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>


            <script>
                function abrirModal() {
                    document.getElementById('AgregarModal').classList.remove('hidden');
                }

                function cerrarModal() {
                    document.getElementById('AgregarModal').classList.add('hidden');
                }
            </script>

        <!---- FIN AL FIN DEL AGREGAR --------->
            @if (TempData["Mensaje"] != null)
            {
                <div class="alert-message" style="background-color: #0E021F; color: white; padding: 15px; margin: 15px 0; border-radius: 10px; font-family: 'Coolvetica', sans-serif; text-align: center; animation: fadeOut 3s forwards;">
                    @TempData["Mensaje"]
                </div>
            }

            <div class="admin-tabs">
                <button class="tab-button active" data-tab="computadores">Computadores</button>
                <button class="tab-button" data-tab="usuarios">Usuarios</button>
            </div>

            <div class="admin-content active" id="computadores-content">
                <div class="admin-filters">
                    <div class="search-box">
                        <input type="text" id="search-computer" placeholder="Buscar por nombre">
                        <button class="search-button">Buscar</button>
                    </div>
                    <div class="filter-options">
                        <select id="filter-category">
                            <option value="">Todas las categorías</option>
                            <option value="trabajo">Trabajo</option>
                            <option value="estudio">Estudio</option>
                            <option value="juegos">Juegos</option>
                            <option value="diseno">Diseño</option>
                        </select>
                        <select id="filter-type">
                            <option value="">Todos los tipos</option>
                            <option value="PC">PC</option>
                            <option value="Portatil">Portátil</option>
                        </select>
                    </div>
                </div>

                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Marca</th>
                                <th>Modelo</th>
                                <th>Procesador</th>
                                <th>Memoria RAM</th>
                                <th>Almacenamiento</th>
                                <th>Precio</th>
                                <th>Acciones</th>

                            </tr>
                        </thead>
                        <tbody id="computers-table-body">
                            @foreach (var compu in Model.Computadoras)
                            {
                                <form asp-action="Editar" asp-route-id="@compu.Id" method="post" onsubmit="return confirm('¿Seguro que quieres cambiar el componente?');">
                                <tr>
                                    <td><input name="nuevaCompu.Marca" value="@compu.Marca" class="form-control" /></td>
                                    <td><input name="nuevaCompu.Modelo" value="@compu.Modelo" class="form-control" /></td>
                                    <td><input name="nuevaCompu.Procesador" value="@compu.Procesador" class="form-control" /></td>
                                    <td><input name="nuevaCompu.MemoriaRam" value="@compu.MemoriaRam" class="form-control" /></td>
                                    <td><input name="nuevaCompu.AlmacenamientoPrincipal" value="@compu.AlmacenamientoPrincipal" class="form-control" /></td>
                                    <td><input name="nuevaCompu.Precio" type="number" step="1000" value="@compu.Precio.ToString("F0", CultureInfo.InvariantCulture)" class="form-control" />
</td>
                                    <td>
                                        <button type="submit" class="action-button edit-button">Editar</button>
                                        <form asp-action="Delete" asp-route-id="@compu.Id" method="post" style="display:inline" onsubmit="return confirm('¿Seguro que quieres eliminar?');">
                                            <button type="submit" class="action-button delete-button">Eliminar</button>
                                        </form>
                                    </td>
                                </tr>
                                </form>
                            }

                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <button class="pagination-button" id="prev-page">Anterior</button>
                    <span class="page-info">Página <span id="current-page">1</span> de <span id="total-pages">5</span></span>
                    <button class="pagination-button" id="next-page">Siguiente</button>
                </div>
            </div>

            <div class="admin-content" id="usuarios-content">
                <div class="placeholder-message">
                    <h2>Gestión de Usuarios</h2>
                    <p>Panel de gestión de usuarios en desarrollo.</p>
                </div>
            </div>
        </section>
    </main>


    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section-about">
                <h2>Codex</h2>
                <p>Este es un e-commerce de recomendación de computadores y portatiles de acuerdo a la informacion que nos de nuestro usuario</p>
            </div>

            <div class="footer-section-links">
                <h2>Conexiones</h2>
                <ul>
                    <li><a href="@Url.Content("~/index")">Inicio</a></li>
                    <li><a href="#">Servicios</a></li>
                    <li><a href="#">Sobre nosotros</a></li>
                </ul>
            </div>

            <div class="footer-section-contact">
                <h2>Enlaces</h2>
                <ul>
                    <li><a href="https://github.com/Ariiadnee-06/Codex.git">GitHub</a></li>
                    <li><a href="https://samuelmachado1806sm.atlassian.net/jira/software/projects/CODEX/summary">Jira</a></li>
                    <li><p>IUPB - Ingeniería de Software</p></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Codex | Todos los derechos reservados</p>
        </div>
    </footer>
    <script src="@Url.Content("~/js/main.js")"></script>
    <script src="@Url.Content("~/js/admin.js")"></script>


</body>
</html>
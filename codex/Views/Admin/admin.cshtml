@model codex.ViewModels.AdminViewModel

@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="icon" href="@Url.Content("~/Imagenes/Codex-Logo.png")">
    <link rel="stylesheet" href="@Url.Content("~/css/style.css")">
    <link rel="stylesheet" href="@Url.Content("~/css/admin.css")">
    <title>Codex | Panel de Administración</title>
</head>
<body>
    <!--HEADER-->
    <header class="header" id="header">
        <nav class="nav_container">
            <a href="@Url.Content("~/index.html")" class="nav_logo">Codex</a>
            <div class="nav_menu" id="nav_menu">
                <div class="nav_close" id="nav_close">
                    <img src="@Url.Content("~/Imagenes/circulo-marca-x (1).png")" alt="Cerrar">
                </div>

                <ul class="nav_list">
                    <li>
                        <a href="@Url.Content("~/index.html")" class="nav_link">
                            <img src="@Url.Content("~/Imagenes/home.png")" alt="Inicio" class="nav_icon">
                            <span class="nav_text">Inicio</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav_link active">
                            <img src="@Url.Content("~/Imagenes/dashboard.png")" alt="Panel" class="nav_icon">
                            <span class="nav_text">Panel Admin</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav_link">
                            <img src="@Url.Content("~/Imagenes/usuario-extranjero (1).png")" alt="Usuario" class="nav_icon">
                            <span class="nav_text">Mi Cuenta</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="nav_toggle" id="nav_toggle">
                <img src="@Url.Content("~/Imagenes/menu (2).png")" alt="Menú">
            </div>
        </nav>
    </header>

    <!--CONTENIDO-->
    <main class="admin-main">
        <section class="admin-container">
            <div class="admin-header">
                <h1 class="Titulo">Panel de Administración</h1>
                <button class="admin-button" id="openAddModal">Agregar Computador</button>
            </div>

            <div class="admin-tabs">
                <button class="tab-button active" data-tab="computadores">Computadores</button>
                <button class="tab-button" data-tab="usuarios">Usuarios</button>
            </div>

            <div class="admin-content active" id="computadores-content">
                <div class="admin-filters">
                    <div class="search-box">
                        <input type="text" id="search-computer" placeholder="Buscar por nombre">
                        <button class="search-button">Buscar</button>
                    </div>
                    <div class="filter-options">
                        <select id="filter-category">
                            <option value="">Todas las categorías</option>
                            <option value="trabajo">Trabajo</option>
                            <option value="estudio">Estudio</option>
                            <option value="juegos">Juegos</option>
                            <option value="diseno">Diseño</option>
                        </select>
                        <select id="filter-type">
                            <option value="">Todos los tipos</option>
                            <option value="PC">PC</option>
                            <option value="Portatil">Portátil</option>
                        </select>
                    </div>
                </div>

                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Marca</th>
                                <th>Modelo</th>
                                <th>Procesador</th>
                                <th>Memoria RAM</th>
                                <th>Almacenamiento</th>
                                <th>Precio</th>
                                <th>Acciones</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="computers-table-body">


                            @foreach (var compu in Model.Computadoras)
                            {
                                <tr>
                                    <td><input type="hidden" name="Id" value="@compu.Id" /></td>
                                    <td><input name="Marca" value="@compu.Marca" class="form-control" /></td>
                                    <td><input name="Modelo" value="@compu.Modelo" class="form-control" /></td>
                                    <td><input name="Procesador" value="@compu.Procesador" class="form-control" /></td>
                                    <td><input name="MemoriaRam" value="@compu.MemoriaRam" class="form-control" /></td>
                                    <td><input name="AlmacenamientoPrincipal" value="@compu.AlmacenamientoPrincipal" class="form-control" /></td>
                                    <td><input name="Precio" type="number" value="@compu.Precio" class="form-control" step="0.01" /></td>
                                    <td>
                                       <button type="button" class="action-button edit-button" id="openEditModal">Editar</button>
                                        
                                        <form asp-action="Delete" asp-route-id="@compu.Id" method="post" style="display:inline" onsubmit="return confirm('¿Seguro que quieres eliminar?');">
                                            <button type="submit" class="action-button delete-button">Eliminar</button>
                                        </form>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <button class="pagination-button" id="prev-page">Anterior</button>
                    <span class="page-info">Página <span id="current-page">1</span> de <span id="total-pages">5</span></span>
                    <button class="pagination-button" id="next-page">Siguiente</button>
                </div>
            </div>

            <div class="admin-content" id="usuarios-content">
                <div class="placeholder-message">
                    <h2>Gestión de Usuarios</h2>
                    <p>Panel de gestión de usuarios en desarrollo.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal para agregar computador -->
    <div id="computer-modal" class="modal hidden">
        <div class="modal_content">
            <span id="close-computer-modal" class="close">&times;</span>
            <h2 id="modal-title" style="padding: 20px 20px 0 20px; color: white; font-family: 'Coolvetica', sans-serif; font-weight: lighter;">Agregar Nuevo Computador</h2>
            <div class="modal_body">
                <form asp-action="Create" method="post">
                    <div class="form-group">
                        <label asp-for="ComputadoraActual.Marca"></label>
                        <input asp-for="ComputadoraActual.Marca" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.Marca" class="text-danger"></span>
                    </div>


                    <div class="form-group">
                        <label asp-for="ComputadoraActual.Modelo"></label>
                        <input asp-for="ComputadoraActual.Modelo" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.Modelo" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.TipoDispositivo"></label>
                        <select asp-for="ComputadoraActual.TipoDispositivo" class="form-control" asp-items="Html.GetEnumSelectList<codex.Models.TipoDispositivo>()"></select>
                        <span asp-validation-for="ComputadoraActual.TipoDispositivo" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.Procesador"></label>
                        <input asp-for="ComputadoraActual.Procesador" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.Procesador" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.GeneracionCPU"></label>
                        <input asp-for="ComputadoraActual.GeneracionCPU" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.GeneracionCPU" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.MemoriaRam"></label>
                        <input asp-for="ComputadoraActual.MemoriaRam" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.MemoriaRam" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.TipoRam"></label>
                        <input asp-for="ComputadoraActual.TipoRam" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.TipoRam" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.AlmacenamientoPrincipal"></label>
                        <input asp-for="ComputadoraActual.AlmacenamientoPrincipal" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.AlmacenamientoPrincipal" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.AlmacenamientoSecundario"></label>
                        <input asp-for="ComputadoraActual.AlmacenamientoSecundario" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.AlmacenamientoSecundario" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.TarjetaGrafica"></label>
                        <input asp-for="ComputadoraActual.TarjetaGrafica" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.TarjetaGrafica" class="text-danger"></span>
                    </div>

                    <div class="form-group form-check">
                        <input asp-for="ComputadoraActual.TieneGPUIntegrada" class="form-check-input" />
                        <label asp-for="ComputadoraActual.TieneGPUIntegrada" class="form-check-label"></label>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.PantallaPulgadas"></label>
                        <input asp-for="ComputadoraActual.PantallaPulgadas" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.PantallaPulgadas" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.ResolucionVertical"></label>
                        <input asp-for="ComputadoraActual.ResolucionVertical" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.ResolucionVertical" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.ResolucionHorizontal"></label>
                        <input asp-for="ComputadoraActual.ResolucionHorizontal" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.ResolucionHorizontal" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.Puertos"></label>
                        <input asp-for="ComputadoraActual.Puertos" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.Puertos" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.Conectividad"></label>
                        <input asp-for="ComputadoraActual.Conectividad" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.Conectividad" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.Precio"></label>
                        <input asp-for="ComputadoraActual.Precio" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.Precio" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.ImagenUrl"></label>
                        <input asp-for="ComputadoraActual.ImagenUrl" class="form-control" />
                        <span asp-validation-for="ComputadoraActual.ImagenUrl" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.TipoRecomendado"></label>
                        <select asp-for="ComputadoraActual.TipoRecomendado" class="form-control" asp-items="Html.GetEnumSelectList<codex.Models.TipoUso>()"></select>
                        <span asp-validation-for="ComputadoraActual.TipoRecomendado" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="ComputadoraActual.Descripcion"></label>
                        <textarea asp-for="ComputadoraActual.Descripcion" class="form-control"></textarea>
                        <span asp-validation-for="ComputadoraActual.Descripcion" class="text-danger"></span>
                    </div>

                    <button type="submit" class="btn btn-primary">Crear</button>
                </form>

            </div>
        </div>
    </div>

    <!-- Modal de confirmación de eliminación -->
    <div id="delete-confirmation-modal" class="modal hidden">
        <div class="modal_content delete-modal-content">
            <span id="close-delete-modal" class="close">&times;</span>
            <h2>Confirmar Eliminación</h2>
            <p>¿Estás seguro de que deseas eliminar este computador? Esta acción no se puede deshacer.</p>
            <div class="delete-modal-buttons">
                <button id="cancel-delete" class="cancel-button">Cancelar</button>
                <button id="confirm-delete" class="confirm-button">Eliminar</button>
            </div>
        </div>
    </div>

    <!--Modal de Editar-->
    <div class="modal hidden" id="EditModal">

        <form id="edit-form" method="post">
            <h2 class="text-edit">Editar Computadora</h2>
            <input type="hidden" name="Id" id="edit-id" />

            <div class="mb-3">
                <label for="edit-marca" class="block font-medium">Marca</label>
                <input type="text" name="Marca" id="edit-marca" class="form-input w-full border p-2 rounded" required />
            </div>

            <div class="mb-3">
                <label for="edit-modelo" class="block font-medium">Modelo</label>
                <input type="text" name="Modelo" id="edit-modelo" class="form-input w-full border p-2 rounded" required />
            </div>

            <div class="mb-3">
                <label for="edit-procesador" class="block font-medium">Procesador</label>
                <input type="text" name="Procesador" id="edit-procesador" class="form-input w-full border p-2 rounded" required />
            </div>

            <div class="mb-3">
                <label for="edit-ram" class="block font-medium">Memoria RAM</label>
                <input type="text" name="MemoriaRam" id="edit-ram" class="form-input w-full border p-2 rounded" required />
            </div>

            <div class="mb-3">
                <label for="edit-almacenamiento" class="block font-medium">Almacenamiento</label>
                <input type="text" name="AlmacenamientoPrincipal" id="edit-almacenamiento" class="form-input w-full border p-2 rounded" required />
            </div>

            <div class="mb-3">
                <label for="edit-precio" class="block font-medium">Precio</label>
                <input type="number" step="0.01" name="Precio" id="edit-precio" class="form-input w-full border p-2 rounded" required />
            </div>

            <div class="flex">
                <button type="button" class="btn btn-secondary" id="close-edit-modal">Cancelar</button>
                <button type="submit" class="btn btn-success">Guardar cambios</button>
            </div>
        </form>
    </div>
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section-about">
                <h2>Codex</h2>
                <p>Este es un e-commerce de recomendación de computadores y portatiles de acuerdo a la informacion que nos de nuestro usuario</p>
            </div>

            <div class="footer-section-links">
                <h2>Conexiones</h2>
                <ul>
                    <li><a href="@Url.Content("~/index.html")">Inicio</a></li>
                    <li><a href="#">Servicios</a></li>
                    <li><a href="#">Sobre nosotros</a></li>
                </ul>
            </div>

            <div class="footer-section-contact">
                <h2>Enlaces</h2>
                <ul>
                    <li><a href="https://github.com/Ariiadnee-06/Codex.git">GitHub</a></li>
                    <li><a href="https://samuelmachado1806sm.atlassian.net/jira/software/projects/CODEX/summary">Jira</a></li>
                    <li><p>IUPB - Ingeniería de Software</p></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Codex | Todos los derechos reservados</p>
        </div>
    </footer>

    <script src="@Url.Content("~/js/admin.js")"></script>
    <script src="@Url.Content("~/js/main.js")"></script>
    
</body>
</html>